//- module
-
  if(!libLoader) {
    libLoader = {
      js: {url: {}},
      css: {url: {}},
      root: function(r) { libLoader._r = r; },
      _r: "/assets/lib",
      _v: "",
      version: function(v) { libLoader._v = (v ? "?v=" + v : ""); }
    }
    if(version) { libLoader.version(version); }
  }

mixin script(os,cfg)
  -
    if(!Array.isArray(os)) { os = [os]; }
  each o in os
    -
      c = o;
      if(typeof(o) == "string") { url = o; c = cfg || {};}
      else if(o.url) { url = o.url; }
      else { url = libLoader._r + "/" + o.name + "/" + (o.version || 'main') + "/" + (o.path || "index.min.js"); }
    if !libLoader.js.url[url]
      - libLoader.js.url[url] = true;
      - defer = (typeof(c.defer) == "undefined" ? true : !!c.defer);
      if /^https?:\/\/./.exec(url)
        script(type="text/javascript",src=url, defer=defer, async=!!c.async)
      else
        script(type="text/javascript",src=url + libLoader._v, defer=defer, async=!!c.async)

mixin css(os,cfg)
  -
    if(!Array.isArray(os)) { os = [os]; }
  each o in os
    -
      c = o;
      if(typeof(o) == "string") { url = o; c = cfg || {};}
      else if(o.url) { url = o.url; }
      else { url = libLoader._r + "/" + o.name + "/" + (o.version || 'main') + "/" + (o.path || "index.min.css"); }
    if !libLoader.css.url[url]
      - libLoader.css.url[url] = true;
      link(rel="stylesheet",type="text/css",href=url + libLoader._v)
